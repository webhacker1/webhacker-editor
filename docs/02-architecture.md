# Архитектура проекта
Карта проекта: где что лежит и куда идти, если нужно внести изменения.

## 1) Основные представления

Проект состоит из 4 больших частей:

1. `core/`  
"Скелет" редактора: создание UI, базовые методы, общая логика.

2. `features/`  
Фичи редактора: toolbar, события, code block, таблицы.

3. `sanitize/`  
Очистка HTML: убираем лишние теги/атрибуты/стили.

4. `styles/` и `whEditor.less`  
Внешний вид редактора и режима просмотра.

## 2) Главные файлы

1. `core/WebHackerEditor.js`  
Главный класс редактора. Здесь методы `getHTML`, `setHTML`, `setTheme`.

2. `features/editor/events/`  
Обработка ввода, вставки, клавиш, выделения.

3. `features/editor/toolbar/`  
Сборка toolbar и кнопки.

4. `features/code/`  
Работа с `pre code`, подсветка, выбор языка.

5. `sanitize/sanitize.js`  
Точка входа в очистку HTML.

## 3) Путь данных (от ввода до сохранения)

1. Пользователь печатает или вставляет текст в `contenteditable`.
2. События обрабатываются в `features/editor/events/*`.
3. Если это код, включается логика из `features/code/*`.
4. При сохранении вызывается `editor.getHTML()`.
5. `getHTML()` запускает sanitize и отдает безопасный HTML.

## 4) Где искать проблему

1. Не работает кнопка toolbar -> `features/editor/toolbar/*`.
2. Странная вставка текста -> `features/editor/events/clipboard.js`.
3. Ломается code block -> `features/code/*`.
4. Пропускается небезопасный HTML -> `sanitize/*`.
5. Проблема с цветами/темой -> `styles/*` и `ui/theme.js`.

## 5) Что дальше

Следующий файл:

1. `docs/03-toolbar.md`
